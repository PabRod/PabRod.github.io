
<!DOCTYPE html>
<html lang="english">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://pabrod.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://pabrod.github.io/theme/pygments/emacs.min.css">
  <link rel="stylesheet" type="text/css" href="https://pabrod.github.io/theme/font-awesome/css/font-awesome.min.css">


    <link href="https://pabrod.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="PabRod Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-118019878-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Pablo Rodríguez-Sánchez" />
<meta name="description" content="This weekend most of Europe says goodbye to summertime. Visualize the consequences using R." />
<meta name="keywords" content="math, R">

<meta property="og:site_name" content="PabRod"/>
<meta property="og:title" content="Daylight charts with R"/>
<meta property="og:description" content="This weekend most of Europe says goodbye to summertime. Visualize the consequences using R."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://pabrod.github.io/clock-en.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-10-24 11:17:17+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://pabrod.github.io/author/pablo-rodriguez-sanchez.html">
<meta property="article:section" content="Blog"/>
<meta property="article:tag" content="math"/>
<meta property="article:tag" content="R"/>
<meta property="og:image" content="/images/profile.png">

  <title>PabRod &ndash; Daylight charts with R</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://pabrod.github.io">
        <img src="/images/profile.png" alt="" title="">
      </a>
      <h1><a href="https://pabrod.github.io"></a></h1>

<p>Applied mathematician. Science storyteller</p>
      <nav>
        <ul class="list">
          <li><a href="https://pabrod.github.io/pages/bio-en.html#bio">Bio</a></li>
          <li><a href="https://pabrod.github.io/pages/education-en.html#education">Education</a></li>
          <li><a href="https://pabrod.github.io/pages/portfolio-en.html#portfolio">Portfolio</a></li>
          <li><a href="https://pabrod.github.io/pages/publications-en.html#publications">Publications</a></li>
          <li><a href="https://pabrod.github.io/pages/teaching-en.html#teaching">Teaching</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-envelope-o" href="mailto:pablo.rodriguez.sanchez@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a></li>
        <li><a class="sc-github" href="https://github.com/PabRod" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="http://twitter.com/DonMostrenco" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-instagram" href="https://instagram.com/pablo.rodriguez.sanchez/" target="_blank"><i class="fa fa-instagram"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/pabrod" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-rss" href="https://pabrod.github.io/pages/feeds-list-en.html" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://pabrod.github.io">    Home
</a>


      <a href="https://pabrod.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="clock">Daylight charts with R</h1>
    <p>
          Posted on Sat 24 October 2020 in <a href="https://pabrod.github.io/category/blog.html">Blog</a>


    </p>
  </header>


  <div>
    <p>It happens every year. Twice. And it can be pretty annoying. I am talking about the clock shift to re-adapt our schedules to wintertime or summertime. But did you know that this October 25 may be the last time this happens? Well… at least if you are reading these lines from Europe.</p>
<p>But, why do we do it? Changing the clocks reduces the undesirable effects of an astronomical phenomenon: that of the variability of sunlight hours during the year. To make it even more difficult, this variability depends not only on the day of the year but also on the location on Earth.</p>
<p>Luckily, the study of the relationship between daylight duration, position, and date is one of the oldest objects of study. There are some early references in the Babylonian time, the topic was already covered in Ptolemy’s <em>Almagest</em>, and it is part of the everyday life of sailors since, at least, the publication of the first nautical almanacs in the 1700s.</p>
<p>We can summarize all we need in charts like this:</p>
<p><a href="https://github.com/PabRod/daylight-charts"><img alt="Bacelona" src="images/2020-10/Barcelona.png"></a></p>
<p>The figure above is a daylight chart corresponding to the city of Barcelona, Spain, in the year 2020. The abrupt changes correspond with the spring and autumn clock shifts. Notice how the clock shift keeps the sunrise around 8:00 AM.</p>
<p>I've generated the chart in <em>R</em>. Nowadays, quick and simple access to astronomical and geographical databases makes it easier than ever to simulate daylight charts at any point in the world. In particular, I wrote <a href="https://github.com/PabRod/daylight-charts">this code in R</a> to generate such diagrams. It relies on the CRAN packages:</p>
<ul>
<li><code>maps</code>: for converting the name of a city into its geographical coordinates.</li>
<li><code>lutz</code>: for extracting the official timezone from the coordinates.</li>
<li><code>suncalc</code>: for deriving the sunset and sunrise times at the selected location.</li>
</ul>
<p>It can be run as an interactive applet, either in <a href="https://pabrod.shinyapps.io/cambio-de-hora/">Shinyapps</a> or <a href="https://github.com/PabRod/daylight-charts">locally</a>, to query for any city in the EU with a population over 100k. Additionally, I precalculated a collection of daylight charts for <a href="https://github.com/PabRod/daylight-charts/tree/master/figs/nl">Dutch</a>, <a href="https://github.com/PabRod/daylight-charts/tree/master/figs/es">Spanish</a>, and other <a href="https://github.com/PabRod/daylight-charts/tree/master/figs/eu">European</a> towns with a population over 100k.</p>
<p>This entry appears in <a href="https://www.r-bloggers.com">R-bloggers.com</a></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://pabrod.github.io/tag/math.html">math</a>
      <a href="https://pabrod.github.io/tag/r.html">R</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'pabrod';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " PabRod ",
  "url" : "https://pabrod.github.io",
  "image": "/images/profile.png",
  "description": ""
}
</script>

</body>
</html>